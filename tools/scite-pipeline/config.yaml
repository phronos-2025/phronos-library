# Scite.ai Processing Pipeline Configuration
# This config is topic-agnostic. Topic-specific cluster definitions live in
# library/topics/{topic}/sources/scite/OUTLINE.md frontmatter.

# API Configuration
api:
  provider: anthropic  # Options: anthropic, openai, local
  model: claude-sonnet-4-20250514
  max_tokens: 2000  # Increased for longer structured output with conclusion quotes
  temperature: 0.0  # Zero temperature for extraction tasks - prevents "improving" source material
  
  # Pricing per 1M tokens (as of 2025-01-02)
  # Update these if Anthropic changes pricing
  pricing:
    claude-sonnet-4-20250514:
      input: 3.00   # $3.00 per 1M input tokens
      output: 15.00  # $15.00 per 1M output tokens
    claude-opus-3-20240229:
      input: 15.00
      output: 75.00
    claude-haiku-3-20240307:
      input: 0.25
      output: 1.25

# Processing Options
processing:
  # Coverage thresholds (based on reference count)
  coverage_thresholds:
    rich: 8        # 8+ references = Rich coverage
    moderate: 4    # 4-7 references = Moderate coverage
    sparse: 1      # 1-3 references = Sparse coverage
    # 0 references = None
  
  # Maximum citations to include in structured output
  max_citations: 5
  
  # Flag for deep research if coverage is below this level
  deep_research_threshold: sparse  # Options: sparse, moderate

# Output Options
output:
  # Generate individual processed files per question
  individual_files: true
  
  # Generate consolidated report organized by cluster
  consolidated_report: true
  
  # Include source file path in output
  include_source_reference: true
  
  # Output format for consolidated report
  report_format: markdown  # Options: markdown, json

